/********************************************************************************
**
** 文件名:     port_uart.h
** 版权所有:   (c) 1998-2017 厦门雅迅网络股份有限公司
** 文件描述:   实现平台的串口驱动接口
**
*********************************************************************************
**                  修改历史记录
**===============================================================================
**| 日期              | 作者        |  修改记录
**===============================================================================
**| 2017/05/15 | 黄运峰    |  创建该文件
********************************************************************************/
#ifndef PORT_UART_H
#define PORT_UART_H     1
#include "yx_includes.h"
/*
*********************************************************************************
*                   数据类型和宏定义
*********************************************************************************
*/
// 串口编号定义
typedef enum {
    UART_IDX1 = 0, // 对应UART_0    /* S32K调试串口 */
    UART_IDX2,     // 对应UART_1    /* 外置定位模块串口 */
    UART_IDX3,     // 对应UART_2    /* 与L170通信主串口 */
    MAX_UART_IDX
} UART_IDX_E;
/*
*********************************************************************************
*                   对外接口声明
*********************************************************************************
*/
/********************************************************************************
**  函数名:     PORT_InitUart
**  函数描述:   串口初始化
**  参数:       [in] :配置参数
**  返回:       成功返回true，失败返回false
********************************************************************************/
BOOLEAN PORT_InitUart(INT8U uid, INT32U baud, INT16U rlen, INT16U tlen);

/********************************************************************************
**  函数名:     PORT_CloseUart
**  函数描述:   关闭串口
**  参数:       [in] uid：串口编号,见UART_IDX_E
**  返回:       无
********************************************************************************/
void PORT_CloseUart(INT32U uid);

/********************************************************************************
** 函数名:   PORT_uart_LeftOfWrbuf
** 函数描述: 查询发送缓冲剩余空间
** 参数:     [in] uid:  串口编号
** 返回:     查询成功，返回发送缓冲剩余空间；查询失败则返回-1.
********************************************************************************/
INT32S PORT_uart_LeftOfWrbuf(INT32U uid);

/********************************************************************************
**  函数名:     PORT_UartWriteBlock
**  函数描述:   向串口发送一串数据
**  参数:       [in] uid: 串口编号，见UART_IDX_E
**              [in] sptr: 待发送的数据指针
**              [in] slen: 待发送的数据长度
**  返回:       发送结果
********************************************************************************/
BOOLEAN PORT_UartWriteBlock(INT32U uid, INT8U *sdata, INT32U slen);

/********************************************************************************
**  函数名:     PORT_UartWriteByte
**  函数描述:   向串口发送一个字节
**  参数:       [in] uid：串口编号，见UART_IDX_E
**              [in] ch：待发送的字节
**  返回:       成功返回TRUE，失败返回FALSE
********************************************************************************/
BOOLEAN PORT_UartWriteByte(INT32U uid, INT8U ch);

/********************************************************************************
** 函数名:   PORT_UartWriteByteDIR
** 函数描述: 强制发送一个字节
** 参数:     [in] uid:  串口编号
**           [in] byte: 所要发送的字节内容
** 返回:     无
********************************************************************************/
void PORT_UartWriteByteDIR(INT32U uid, INT8U ch);

/********************************************************************************
** 函数名:   PORT_UartWriteBlockDIR
** 函数描述: 强制发送一串
** 参数:     [in] uid:  串口编号
**           [in] byte: 所要发送的字节内容
** 返回:     无
********************************************************************************/
void PORT_UartWriteBlockDIR(INT32U uid, INT8U *sdata, INT32U slen);

/********************************************************************************
**  函数名:     PORT_UartRead
**  函数描述:   从串口读取一个字节
**  参数:       [in] uid: 串口编号，见UART_IDX_E
**  返回:       读取到的字节, -1则无效
********************************************************************************/
INT16S PORT_UartRead(INT32U uid);

//-------------------------------------------------------------------------------
#endif /* PORT_UART_H */

