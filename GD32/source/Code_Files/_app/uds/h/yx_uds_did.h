/********************************************************************************
**
** 文件名:     yx_uds_did.h
** 版权所有:   (c) 2007-2021 厦门雅迅网络股份有限公司
** 文件描述:   该模块主要实现UDS的DID功能
**
*********************************************************************************
**             修改历史记录
**===============================================================================
**| 日期       | 作者   |  修改记录
**===============================================================================
**| 2021/06/07 | 叶德焰 |  创建第一版本
*********************************************************************************/
#ifndef YX_UDS_DID_H
#define YX_UDS_DID_H         1


/*
********************************************************************************
* 定义宏
********************************************************************************
*/


/*
********************************************************************************
* 定义模块结构
********************************************************************************
*/

/* did读写属性 */
#define DID_RO     0x01                 // 只读
#define DID_WO     0x02                 // 只写
#define DID_MPU    0x04                 // MPU数据备份到FLASH
#define DID_RW     (DID_RO | DID_WO)    // 可读写

/* DID数据类型 */
typedef enum {
    DID_DATA_TYPE_HEX,
    DID_DATA_TYPE_ASCII,
    DID_DATA_TYPE_BCD,
    DID_DATA_TYPE_ERR,
} DID_DATA_TYPE_E;
/* 显示码 */
typedef enum {
    CAR_SIGNAL_J6,           /* J6低配 */
		CAR_SIGNAL_J6_MID,	     /* J6中配 */
		CAR_SIGNAL_QINGQI,			 /* 青汽架构 */
    MAX_CAR_SIGNAL_TYPE
} CAR_SIGNAL_TYPE_E;
/*
********************************************************************************
* 定义模块变量
********************************************************************************
*/

/*
********************************************************************************
* 定义本地接口
********************************************************************************
*/

/*
********************************************************************************
* 定义对外接口
********************************************************************************
*/
    
/*******************************************************************
** 函数名: YX_UDS_DID_SID22_ReadDataByIdentifier
** 函数描述: 通过标识符读数据
** 参数: [in] did: 数据标识
** 返回: NULL
********************************************************************/
void YX_UDS_DID_SID22_ReadDataByIdentifier(INT8U* data, INT16U len);

/*******************************************************************
** 函数名: YX_UDS_DID_SID2E_WriteDataByIdentifier
** 函数描述: 通过标识符写数据
** 参数: [in] did: 数据标识
         [in] data: 待写数据
         [in] len: 数据长度
** 返回: NULL
********************************************************************/
void YX_UDS_DID_SID2E_WriteDataByIdentifier(INT8U *data, INT8U len);

/*******************************************************************
** 函数名: YX_UDS_DID_Down
** 函数描述: 主机UDS数据同步
** 参数: [in] did  : did号
         [in] data : 数据内容
         [in] len  : 数据长度
** 返回: 无
********************************************************************/
BOOLEAN YX_UDS_DID_Down(INT16U did, INT8U *data, INT8U len);

/*******************************************************************
** 函数名: YX_UDS_DID_SaveDataToFlash
** 函数描述:DID数据立即保存到pp参数
** 参数: 无
** 返回: 无
********************************************************************/
void YX_UDS_DID_SaveDataToFlash(void);

/*****************************************************************************
**  函数名:  YX_UDS_DID_UpdataCanData
**  函数描述: 更新can报文数据
**  参数:    [in] canId :
**           [in] data  :    intel格式报文内容
**           [in] len   :
**  返回:    无
*****************************************************************************/
void YX_UDS_DID_UpdataCanData(INT32U canId, INT8U* data, INT8U len);

/*****************************************************************************
**  函数名:  YX_UDS_DID_DataReset
**  函数描述: 初始化did数据
**  参数:    无
**  返回:    无
*****************************************************************************/
void YX_UDS_DID_DataReset(void);
/*****************************************************************************
**  函数名:  YX_Set_CarSignal(
**  函数描述:根据did数据配置车型
**  参数:    无
**  返回:    无
*****************************************************************************/
void YX_Set_CarSignal(INT8U *data);
/*****************************************************************************
**  函数名:   YX_Get_EMSType
**  函数描述: 获取EMS类型
**  参数:     无
**  返回:     无
*****************************************************************************/
INT8U YX_Get_EMSType(void);
/*****************************************************************************
**  函数名:   YX_Get_Did0110
**  函数描述: 产地配置
**  参数:     无
**  返回:     无
*****************************************************************************/
INT8U YX_Get_Did0110(void);
/*****************************************************************************
**  函数名:   YX_Get_VehSpeed
**  函数描述: 获取车速
**  参数:     无
**  返回:     无
*****************************************************************************/
INT16U YX_Get_VehSpeed(void);
/*******************************************************************
** 函数名: YX_UDS_DID_Init
** 函数描述:DID数据初始化
** 参数: 无
** 返回: 无
********************************************************************/
void YX_UDS_DID_Init(void);
/*****************************************************************************
**  函数名:   YX_Notice_Reset
**  函数描述: 通知复位
**  参数:     无
**  返回:     无
*****************************************************************************/
void YX_Notice_Reset(void);
/*****************************************************************************
**  函数名:   YX_Notice_Reset
**  函数描述: 通知MPU外部诊断仪在诊断
**  参数:     无
**  返回:     无
*****************************************************************************/
void YX_Notice_EXUDS(BOOLEAN onoff);
#endif

