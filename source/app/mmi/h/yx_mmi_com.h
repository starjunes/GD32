/********************************************************************************
**
** 文件名:     yx_mmi_com.h
** 版权所有:   (c) 2007-2008 厦门雅迅网络股份有限公司
** 文件描述:   该模块主要实现MMI外设协议匹配，数据缓存
**
*********************************************************************************
**             修改历史记录
**===============================================================================
**| 日期       | 作者   |  修改记录
**===============================================================================
**| 2011/01/21 | 叶德焰 |  创建第一版本
*********************************************************************************/
#ifndef H_YX_MMI_COM
#define H_YX_MMI_COM          1

#if EN_MMI > 0

#include "st_uart_drv.h"

typedef UART_DATABIT_E       PE_DATABIT_E;
typedef UART_STOPBIT_E       PE_STOPBIT_E;
typedef UART_PARITY_E        PE_CHKBIT_E;

/*
********************************************************************************
* 宏定义
********************************************************************************
*/




/*
********************************************************************************
* 定义模块数据结构
********************************************************************************
*/

/*
********************************************************************************
* 定义模块变量
********************************************************************************
*/


/*******************************************************************
** 函数名:     YX_MMI_PullUp
** 函数描述:   打开电源
** 参数:       无
** 返回:       无
********************************************************************/
void YX_MMI_PullUp(void);

/*******************************************************************
** 函数名:     YX_MMI_PullDown
** 函数描述:   关掉电源
** 参数:       无
** 返回:       无
********************************************************************/
void YX_MMI_PullDown(void);

/*******************************************************************
** 函数名:     YX_MMI_CfgBaud
** 函数描述:   MMI通道的波特率设置
** 参数:       [in] baud:   波特率
**             [in] databit:数据位,见PE_DATABIT_E
**             [in] stopbit:停止位,见PE_STOPBIT_E
**             [in] chkbit: 校验位,见PE_CHKBIT_E
** 返回:       无
********************************************************************/
void YX_MMI_CfgBaud(INT32U baud, PE_DATABIT_E databit, PE_STOPBIT_E stopbit, PE_CHKBIT_E chkbit);

/*******************************************************************
** 函数名:     YX_MMI_CloseCom
** 函数描述:   关闭MMI通道串口
** 参数:       无
** 返回:       无
********************************************************************/
void YX_MMI_CloseCom(void);

/*******************************************************************
** 函数名:     YX_MMI_Reset
** 函数描述:   复位通道为共享状态
** 参数:       无
** 返回:       无
********************************************************************/
void YX_MMI_Reset(void);

/*******************************************************************
** 函数名:     YX_MMI_ResetBuf
** 函数描述:   复位通道接收缓存
** 参数:       无
** 返回:       无
********************************************************************/
void YX_MMI_ResetBuf(void);

/*******************************************************************
** 函数名:     YX_MMI_UartLeftOfSendbuf
** 函数描述:   获取发送缓存剩余长度
** 参数:       无
** 返回:       剩余字节数
********************************************************************/
INT32U YX_MMI_UartLeftOfSendbuf(void);

/*******************************************************************
** 函数名:     YX_MMI_ReadByte
** 函数描述:   通道数据接收接口
** 参数:       无
** 返回:       数据，无数据返回－1
********************************************************************/
INT16S YX_MMI_ReadByte(void);

/*******************************************************************
** 函数名:     YX_MMI_SendData
** 函数描述:   通道数据发送接口
** 参数:       [in] ptr: 数据指针
**             [in] len: 数据长度
** 返回:       成功返回true，失败返回false
********************************************************************/
BOOLEAN YX_MMI_SendData(INT8U *ptr, INT16U len);

/*******************************************************************
** 函数名:     YX_MMI_WriteChar
** 函数描述:   底层通道上传接收到数据
** 参数:       [in] com: 统一的通道编号
**             [in] ch:  数据
** 返回:       成功返回true，失败返回false
********************************************************************/
BOOLEAN YX_MMI_WriteChar(INT8U com, INT8U ch);

/*******************************************************************
** 函数名:     YX_MMI_Inform
** 函数描述:   底层通道状态变化通知函数
** 参数:       [in] com:     统一的通道编号
**             [in] type:    外设类型
**             [in] result:  结果，true－通道连接，false－通道断开
** 返回:       无
********************************************************************/
void YX_MMI_Inform(INT8U com, INT8U type, BOOLEAN result);

/*******************************************************************
** 函数名:     YX_MMI_InitCom
** 函数描述:   MMI通信通道初始化
** 参数:       无
** 返回:       无
********************************************************************/
void YX_MMI_InitCom(void);

#endif
#endif


